# 基本结构

是一种关系数据库管理系统、是一个数据容器
包含了表、索引、视图、过程、函数、包等对象

## 内部结构（逻辑存储结构）

逻辑存储结构从技术概念上描述了Oracle内部数据的组织和管理方式

* 数据块
  数据库读写数据的最小存储单元

- 区
  连续的数据库组成逻辑单位

- 段
  一个、多个不连续的区的集合

- 表空间
  若干个段组成、是最大的逻辑存储单元。数据库被划分为一个、多个表空间的逻辑结构

- 模式对象
  ​用户可以操作的逻辑对象

- 方案
  用户可以操作的对象集

## 外部结构（物理存储结构）

物理存储结构从操作系统概念上描述Oracle数据库外部数据的存储方式，系统创建和使用的操作系统物理文件

- 数据文件
  保存数据库的全部数据：表、数据、索引。.dbf
  数据库的每个表空间由一个或者多个数据文件构成
  由Oracle所在操作系统管理

- 重做数据文件
  用来记录对数据库的所有修改信息，用于故障修复

- 控制文件
  是记录数据库物理结构的二进制文件

- 数据库实例

  为了完成用户服务而启动的一系列程序，包含（系统全局区SGA、后台进程）

  - 系统全局区SGA

    - 是系统为数据库实例分配的一组共享内存缓冲区

    - 存放数据库系统信息

    - 多个进程可以同时对系统全局区SGA中的数据进行访问和相互通信

    - 包含

      - 数据高速缓冲区

        存数据库最近使用过的数据块

        - 通过LRU算法管理可用空间

        - 获取、修改数据的时候大大提高了性能

      - 重做日志缓冲区
        放到重做日志之前，先放在重做日志缓冲区
        重做日志缓冲区中的文件将被某个后台进程随时写入重做日志文件

      - 共享池
        程序高速缓冲区，共享池使得用户可以共享已经编译解析过的程序代码，降低重复执行相同代码的开销，提高数据库的性能

  - 后台进程
    数据库的物理结构、内存结构之间的关系都是后台进程控制的

  - 其他概念

    - 进程结构

      - 用户进程

      - 服务器进程

      - 后台进程

    - 程序全局区
      用户进程私有的内存区域

# 表的创建与操作

表来表示实体间的关系

## 数据类型

- 数值类型![img](https://api2.mubu.com/v3/document_image/bd8e0540-eb44-4d70-aabd-f1725aad404a-10407566.jpg)

- 字符类型
  char 、varchar、nchar、nvarchar2

- 日期数据类型
  date，俩个date相减是一个数字，表示几天

- timestamp
  ​俩个timestamp相减，表示：几天几时几分几秒（专门表示时间的数据格式）

- lob
  存储大对象数据结构

- 行类型rowid

## 数据库的创建、操作

- 四类SQL语言

  - 数据定义语言DDL

  - 数据操纵语言DML

  - 数据控制语言DCL

  - 事务控制语言TCL
    银行转账、表上加锁

- 创建

  - 课程表的创建![img](https://api2.mubu.com/v3/document_image/3313f507-a2c2-4cd5-83c9-eddf2494d3e2-10407566.jpg)

  - 俩个主键的表：成绩表(主键：学号+课程号）![img](https://api2.mubu.com/v3/document_image/17ff6e7f-d75a-42f0-a55e-023408a20e70-10407566.jpg)

  - as from where 创建备份表![img](https://api2.mubu.com/v3/document_image/57c2eec7-edad-460d-8148-3001d15ed6d5-10407566.jpg)

- 修改alter

  - add![img](https://api2.mubu.com/v3/document_image/739d2e1c-0b9b-4462-bd64-e0158ad4bf43-10407566.jpg)

  - modfiy修改

  - drop删除

  - insert into 表名 values![img](https://api2.mubu.com/v3/document_image/90bf15f0-3f30-4208-af6e-96e1b4056de2-10407566.jpg)

- meger信息同步

- 数据操作

  - delete  from where

  - truncate table 表名 删除全部记录

  - update set where 更新数据